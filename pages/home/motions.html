<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Robert Rules of Order - Motions</title>
    <link rel="stylesheet" href="../../styles/motions.css">
</head>
<body>
<nav class="navbar">
    <div class="navbar-left">
        <img src="../../assets/gavel_logo.png" alt="Logo" class="logo">
        <span class="site-title">Robert Rules of Order</span>
    </div>
    <div class="navbar-right">
        <a href="../../pages/login/login.html" class="nav-btn">Log In</a>
        <a href="../../pages/sign-up/sign-up.html" class="nav-btn">Sign Up</a>
    </div>
</nav>

<main class="main-content">
    <h1>Motions</h1>
    <div id="motions-container"></div>
</main>

<footer class="footer">
    <p>&copy; 2025 Robert Rules of Order. All rights reserved.</p>
</footer>

<script src="motions.js"></script>
<script>
    const motionsContainer = document.getElementById("motions-container");

    function renderMotions() {
        motionsContainer.innerHTML = "";
        motionsData.forEach(motion => {
            const motionDiv = document.createElement("div");
            motionDiv.className = "motion";

            motionDiv.innerHTML = `
                    <h2>${motion.title}</h2>
                    <p><strong>Description:</strong> ${motion.description}</p>
                    <p><strong>Creator:</strong> ${motion.creator}</p>
                    <p><strong>Status:</strong> ${motion.status}</p>
                    <div class="replies">
                        <h3>Discussion</h3>
                        ${motion.replies.map(reply => `
                            <div class="reply">
                                <strong>${reply.user} (${reply.stance}):</strong> ${reply.text}
                            </div>
                        `).join("")}
                        <input type="text" placeholder="Add a reply..." id="reply-input-${motion.id}">
                        <select id="reply-stance-${motion.id}">
                            <option value="pro">Pro</option>
                            <option value="con">Con</option>
                            <option value="neutral">Neutral</option>
                        </select>
                        <button onclick="addReply(${motion.id})">Add Reply</button>
                    </div>
                `;

            motionsContainer.appendChild(motionDiv);
        });
    }

    function addReply(motionId) {
        const input = document.getElementById(`reply-input-${motionId}`);
        const stanceSelect = document.getElementById(`reply-stance-${motionId}`);
        const motion = motionsData.find(m => m.id === motionId);

        if(input.value.trim() !== "") {
            motion.replies.push({
                user: "CurrentUser", // Placeholder username
                text: input.value,
                stance: stanceSelect.value
            });
            input.value = "";
            renderMotions();
        }
    }

    renderMotions();
</script>
</body>
</html>
